This file describes how I manage development of backscratcher.

Directories and Files
(Starred entries are not in git)

    ~/Dropbox/prj/backscratcher/DODO.org*
        Where I keep track of what I'm doing and what I want to do next.

    LICENSE
        What the name says.

    MANIFEST.in
        Input to setup.py about what to include in the distribution package

    README.md
        Markdown source for README. Copied to README as part of installation.

    TAGS*
        Emacs tags file for navigating the source code.

    attic*
        A place to stick stuff I don't want in the package but I'm not
        yet ready to throw away.

    bscr
        Where the .py files of package bscr reside.

    bscr/test
        Where the package tests reside.

    cmsg*
        A place to compose commit messages.

    ~/Dropbox/prj/backscratcher/dev.README*
        This file. It may wind up in git yet.

    dist
        Where setup.py puts generated distribution files.

    githooks
        git hooks provided with the repo. Run 'githooks/links' to
        manage the hooks:
            githooks/links make   - install the hooks
            githooks/links rm     - remove the hooks
            githooks/links show   - check the hooks

    nose.cfg
        Config file for nosetests.

    requirements.txt
        setup.py uses this to know what prereqs must be installed so
        backscratcher will work. 

    setup.py
        The standard python package management script.



Tests go in directory bscr/tests in files called test_COMPONENT.py.

To run the tests, use one of

  py.test [-v] [-x] [bscr/test] [-k regexp] (preferred)
  green [-v] [bscr/test]
  nosetests [-v] [-x] [bscr/test]

Test options:
  -v    verbose output (list tests as they are run)
  -x    fast fail: give up on first failure (green doesn't have this)
  -k    only run tests whose names match the regexp (py.test only)

To generate a distribution tarball

  python setup sdist

To install the package, use one of

  pip install https://github.com/tbarron/backscratcher/zipball/<branch>
  pip install .

To install a new one over the top of an old one, use one of

  pip install --upgrade \
      https://github.com/tbarron/backscratcher/zipball/<branch>
  pip install --upgrade .

To uninstall

  pip uninstall backscratcher

For general use on this machine:

  deactivate
  sudo pip install [--upgrade] .

For testing from the git repo:

  activate bscr
  pip install [--upgrade] .


Release Process

 * Get things working the way you want in the feature branch, with all
   the tests passing and travis-ci.org showing the project as green for
   all environments.

 * Commit the updates with the desired version in place.

 * Merge the feature branch into master.

 * Tag the release on the master branch with the version already set.

 * Install the master branch somewhere and run the tests.
